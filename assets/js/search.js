import{_ as e,a as t}from"./tslib.es6-de0a9484.js";import{r as n,b as i,c as r,a as d}from"./functions-589115c0.js";function o(){return e(this,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return window.idx?[3,2]:(e=window,[4,fetch(window.siteUrl+"/index.json").then((function(e){return e.json()}))]);case 1:e.index=t.sent(),window.idx=window.lunr((function(){for(var e in this.field("id"),this.field("title",{boost:10}),this.field("categories"),this.field("tags"),this.field("author"),window.index)this.add({id:e,title:window.index[e].title,categories:window.index[e].categories,tags:window.index[e].tags,author:window.index[e].author})})),t.label=2;case 2:return[2,window.idx]}}))}))}function a(){var e=document.getElementById("search-modal"),t=document.getElementById("search-input");n(e,"is-hidden"),t&&document.getElementById("search-input").focus();var r=document.getElementById("side-menu");r&&(n(r.querySelector("li > .is-active"),"is-active"),i(document.getElementById("search-button"),"is-active"))}function s(e,t){var n=document.getElementById("search-results"),i=document.getElementById("post-template");if(n){for(;n.firstChild;)n.removeChild(n.lastChild);if(e.length)for(var r=0;r<e.length;r++){var d=t[e[r].ref];n.appendChild(c(d,i))}}}function c(e,t){var n=t.content.cloneNode(!0),i=n.querySelector("picture.post-picture");e.image_types&&e.image?e.image_types.split(",").forEach((function(t,n,r){var d,o=t.split(":"),a=o[0],s=o[1];n===r.length-1?((d=i.appendChild(document.createElement("img"))).src=e.image+"."+a,d.alt=e.image_alt):((d=i.appendChild(document.createElement("source"))).srcset=e.image+"."+a,d.type=s)})):i.remove();var r=n.querySelector("a.post-title");r.href=e.url,r.text=e.title,n.querySelector("span.post-author").innerText=e.author,n.querySelector("span.post-date").innerText=e.date;var d=n.querySelector("div.post-content");if(d.innerHTML=e.content,1===e.continue){d.appendChild(document.createElement("p")).innerHTML="&#8230;";var o=d.appendChild(document.createElement("a"));o.classList.add("subtitle","is-5","has-text-link"),o.href=e.url,o.text="Seguir leyendo"}return n}document.addEventListener("keydown",(function(e){if(document.getElementById("search-modal")){if(!r(e.target.nodeName)&&"/"===e.key)return e.preventDefault(),a();if("Escape"===e.key||"Esc"===e.key)return e.preventDefault(),function(){var e=document.getElementById("search-modal"),t=document.getElementById("search-input");i(e,"is-hidden"),t&&(t.value=""),s([],window.index),d(document.getElementById("side-menu"))}()}})),window.showSearchModal=a,window.inputSearch=function(n){return e(this,void 0,void 0,(function(){var e,i;return t(this,(function(t){switch(t.label){case 0:return n?[4,o()]:[2];case 1:return e=t.sent(),i=n.value,s(i?e.search(i):[],window.index),[2]}}))}))};
