$sizes: (3rem, 2.5rem, 2rem, 1.5rem, 1.25rem, 1rem, 0.75rem, 0.5rem);
$navbar-height: auto;
$footer-height: 4rem;

:root {
	--main-font: "Raleway", sans-serif;
	--title-font: "Montserrat", sans-serif;
	--monospace-font: "IBM Plex Mono", monospace;
	--font-size: 1em;
	--footer-padding: 1rem 1rem 2rem;

	--button-padding-vertical: calc(0.5em - var(--control-border-width));
	--button-padding-horizontal: 1em;

	--column-gap: 0.75rem;

	--background-color: #ccc9dc;
	--text-color: #0a0a10;
	--primary-color-100: #94afc7;
	--primary-color-200: #799bb9;
	--primary-color-300: #5f87ab;
	--primary-color-400: #4d7393;
	--primary-color-500: #3f5e78;
	--primary-color-600: #324a5f;
	--accent-color: #ff0000;
	--theme-switcher-background: rebeccapurple;

	--contrast-color-100: #699fc9;
	--contrast-color-200: #4b8cbe;
	--contrast-color-300: #3b77a5;
	--contrast-color-400: #316287;
	--contrast-color-500: #264c69;
	--contrast-color-600: #1b364b;
}

:root.dark {
	--background-color: #0a0a10;
	--text-color: #ccc9dc;
	--primary-color-100: #1b2a41;
	--primary-color-200: #2a4265;
	--primary-color-300: #365481;
	--primary-color-400: #42679e;
	--primary-color-500: #527bb7;
	--primary-color-600: #6f91c3;

	--accent-color: #ff0000;
	--theme-switcher-background: #ffb100;
}

@import "reset";

@import "mixins";

@import "spacing";

@import "social-buttons";

html {
	text-rendering: optimizeLegibility;
	overflow-y: scroll;
}

body {
	min-height: 100vh;
	display: grid;
	font-family: var(--main-font);
	line-height: 1.5;
	background-color: var(--background-color);
	color: var(--text-color);

	grid-template-rows: $navbar-height 1fr $footer-height;
	grid-template-areas:
		"nav"
		"main"
		"footer";
}

.title {
	font-family: var(--title-font);
	margin-bottom: nth($sizes, 4);

	& + .subtitle {
		margin-top: -nth($sizes, 5);
	}
}

.title,
.subtitle {
	@each $size in $sizes {
		$i: index($sizes, $size);
		&.is-#{$i} {
			font-size: $size;
		}
	}
}

strong {
	font-weight: bold;
}

.button {
	@include control;
	@include unselectable;

	color: var(--button-color);
	background: var(--button-background);
	border-color: var(--button-border-color);
	cursor: pointer;
	justify-content: center;
	text-align: center;
	white-space: nowrap;
	padding: var(--button-padding-vertical) var(--button-padding-horizontal);

	&.is-warning {
		--button-background: #f5ab00;
		--button-color: var(--background-color);
		--button-border-color: transparent;
	}

	&.is-dark {
		--button-background: var(--text-color);
		--button-color: var(--background-color);
		--button-border-color: transparent;
	}

	strong {
		color: inherit;
	}
}

.buttons {
	display: inline-flex;
	flex-flow: row wrap;

	&:not(last-child) {
		margin-bottom: 1rem;
	}

	&:last-child {
		margin-bottom: -0.5rem;
	}

	> .button:not(last-child) {
		margin-right: 0.5rem;
		margin-bottom: 0.5rem;
	}
}

.has-text-centered {
	text-align: center;
}

.is-invisible {
	visibility: hidden !important;
}

.section {
	padding: 1rem 3rem 1rem 3rem;
}

.columns {
	display: flex;

	@include touch {
		flex-flow: column;

		&.is-centered {
			align-items: center;
		}
	}

	&.is-centered {
		justify-content: center;
	}
}

.column {
	flex: 1 1;
	padding: var(--column-gap);

	@include desktop {
		&:not(:last-child) {
			margin-right: 1rem;
		}

		@for $i from 0 through 12 {
			.columns > &.is-#{$i} {
				flex: none;
				width: percentage($i / 12);
			}
			.columns > &.is-offset-#{$i} {
				margin-left: percentage($i / 12);
			}
		}
	}

	@include touch {
		&:not(:last-child) {
			margin-bottom: 1rem;
		}
	}
}

@import "navbar";
@import "footer";

// End of my styles

img,
picture {
	display: block;
	margin: 0 auto;

	&.image-left {
		max-width: 300px;
		margin-right: 15px;
		margin-bottom: 10px;
	}

	&.image-right {
		max-width: 300px;
		margin-left: 15px;
		margin-bottom: 10px;
	}

	&.avatar {
		vertical-align: middle;
		border-radius: 100%;
		width: 200px;
		z-index: 2;
	}
}

img {
	&:not([alt]) {
		outline: nth($sizes, 6) dashed var(--accent-color);
	}
}

.image.post-image {
	display: inline-block;

	// @include tablet {
	//   max-height: 200px;
	//   max-width: 200px;
	// }

	// @include mobile {
	//   margin-bottom: 0.5em;
	// }
}

.anchor {
	display: block;
	height: 54px;
	margin-top: -54px;
	visibility: hidden;
}

.katex-display {
	overflow-x: auto;
}

.auto-margin {
	margin: auto;
}

article:not(:last-child) {
	margin-bottom: 1em;
}

.line-through {
	text-decoration: line-through;
}

.icon-2x {
	max-width: 2em;
	max-height: 2em;
}

div.highlighter-rouge {
	&:not(:last-child) {
		margin-bottom: nth($sizes, 6);
	}
}

code,
pre {
	text-align: left;
	font-family: var(--monospace-font);
}

.image-container {
	display: inline-block;
}

.art-gallery {
	background-attachment: absolute;
	background-position: center;
	background-repeat: no-repeat;
	background-size: cover;
}

.sidebar-item {
	display: block;

	&:not(:last-child) {
		margin-bottom: 0.25rem;
	}
}

.mobile-separator {
	display: block;
	margin: 0 0.5rem;
	// @include tablet {
	//   display: inline-block;
	// }
}

.gist {
	table td {
		border: initial;
		font-family: var(--monospace-font);
	}

	.blob-num {
		text-align: right;
	}
}

.license-link {
	display: inline-block;
	// margin-bottom: $size-7 / 2;
}

.is-full-rounded {
	border-radius: 100%;
}

.repo {
	&.fixed-top-bar {
		width: 100%;
		position: absolute;
		top: 0;
		display: flex;
		z-index: 5;
		justify-content: space-between;
	}

	&.hero {
		// @include touch {
		//   margin-top: 0.75rem;
		// }
	}
}

sup.ref {
	&::before {
		content: "[";
	}

	&::after {
		content: "]";
	}
}

.latest-posts {
	&:nth-of-type(odd) {
		flex-direction: row-reverse;
	}

	&:not(:last-child) {
		margin-bottom: 1rem;
	}
}

.is-flex {
	display: flex;
	flex-flow: row nowrap;

	&.is-vcentered {
		align-items: center;
	}

	&-column {
		display: flex;
		flex-flow: column nowrap;

		&.is-vcentered {
			justify-content: center;
		}
	}
}

.space-between {
	justify-content: space-between;
}

.normal-wrap {
	word-wrap: normal;
}

span[title] {
	cursor: help;
}

.card.project-card:not(:last-child) {
	margin-bottom: 0.5em;
}
// $footer-padding: 1rem 1rem 2rem;
// $hr-background-color: $grey-lighter;

.image-art-title {
	border-radius: 0.5em;
	// border: $golden solid;
	// @include tablet {
	//   width: 50%;
	// }
	margin: auto;
}

::selection {
	background: var(--accent-color);
	color: var(--text-color);
}

.turbolinks-progress-bar {
	height: 5px;
	// background-color: $red;
}

.gist {
	&-meta {
		// background-color: $background;
		// color: $text;
	}

	&-file {
		// border-color: $white-bis;
	}

	&-data {
		// border-color: $white-bis;
	}
}

.repo.fixed-top-bar {
	// background: $primary;
}
